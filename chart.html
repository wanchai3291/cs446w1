<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>• กราฟ •</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://www.chartjs.org/dist/2.7.3/Chart.bundle.js"></script>
    <script src="https://www.chartjs.org/samples/latest/utils.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Kanit" rel="stylesheet">
</head>
<style>
    body{
        background: url("https://newevolutiondesigns.com/images/freebies/4k-wallpaper-3.jpg")no-repeat center center fixed; 
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        background-size: cover;
        font-family: 'Kanit', sans-serif;
    }
    .bg-fade{
        background: rgba(255, 255, 255, 0.295);
        padding: 20px;
        margin: 20px;
        border-radius: 10px;
        color: black;
    }
    canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
</style>
<body>
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <!-- Brand -->
        <a class="navbar-brand" href="#">หน้าแรก</a>
        
        <!-- Toggler/collapsibe Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Navbar links -->
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">โปรไฟล์</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">รูปภาพ</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">ข่าว</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">แผนที่</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="chart.html">กราฟ</a>
            </li> 
            </ul>
        </div> 
    </nav>

    <div class="container-fluid" style="margin-top: 50px">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8">
                <h1 style="font-size: 64px;margin: 20px 0px 20px 0px;color: white">กราฟ</h1>
                <center>
                    <div style="width:80%;background: white;padding: 15px;border-radius: 10px">
                        <canvas id="canvas"></canvas>
                    </div>
                </center>
                <div class="bg-fade">
                    <button class="btn btn-into" id="randomizeData">Randomize Data</button>
                    <button class="btn btn-success" id="addDataset">Add Dataset</button>
                    <button class="btn btn-dark" id="removeDataset">Remove Dataset</button>
                    <button class="btn btn-success" id="addData">Add Data</button>
                    <button class="btn btn-dark" id="removeData">Remove Data</button>
                    <script>
                        var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                        var config = {
                            type: 'line',
                            data: {
                                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
                                datasets: [{
                                    label: 'My First dataset',
                                    backgroundColor: window.chartColors.red,
                                    borderColor: window.chartColors.red,
                                    data: [
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor()
                                    ],
                                    fill: false,
                                }, {
                                    label: 'My Second dataset',
                                    fill: false,
                                    backgroundColor: window.chartColors.blue,
                                    borderColor: window.chartColors.blue,
                                    data: [
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor(),
                                        randomScalingFactor()
                                    ],
                                }]
                            },
                            options: {
                                responsive: true,
                                tooltips: {
                                    mode: 'index',
                                    intersect: false,
                                },
                                hover: {
                                    mode: 'nearest',
                                    intersect: true
                                },
                                scales: {
                                    xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Month'
                                        }
                                    }],
                                    yAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Value'
                                        }
                                    }]
                                }
                            }
                        };
                
                        window.onload = function() {
                            var ctx = document.getElementById('canvas').getContext('2d');
                            window.myLine = new Chart(ctx, config);
                        };
                
                        document.getElementById('randomizeData').addEventListener('click', function() {
                            config.data.datasets.forEach(function(dataset) {
                                dataset.data = dataset.data.map(function() {
                                    return randomScalingFactor();
                                });
                
                            });
                
                            window.myLine.update();
                        });
                
                        var colorNames = Object.keys(window.chartColors);
                        document.getElementById('addDataset').addEventListener('click', function() {
                            var colorName = colorNames[config.data.datasets.length % colorNames.length];
                            var newColor = window.chartColors[colorName];
                            var newDataset = {
                                label: 'Dataset ' + config.data.datasets.length,
                                backgroundColor: newColor,
                                borderColor: newColor,
                                data: [],
                                fill: false
                            };
                
                            for (var index = 0; index < config.data.labels.length; ++index) {
                                newDataset.data.push(randomScalingFactor());
                            }
                
                            config.data.datasets.push(newDataset);
                            window.myLine.update();
                        });
                
                        document.getElementById('addData').addEventListener('click', function() {
                            if (config.data.datasets.length > 0) {
                                var month = MONTHS[config.data.labels.length % MONTHS.length];
                                config.data.labels.push(month);
                
                                config.data.datasets.forEach(function(dataset) {
                                    dataset.data.push(randomScalingFactor());
                                });
                
                                window.myLine.update();
                            }
                        });
                
                        document.getElementById('removeDataset').addEventListener('click', function() {
                            config.data.datasets.splice(0, 1);
                            window.myLine.update();
                        });
                
                        document.getElementById('removeData').addEventListener('click', function() {
                            config.data.labels.splice(-1, 1); // remove the label first
                
                            config.data.datasets.forEach(function(dataset) {
                                dataset.data.pop();
                            });
                
                            window.myLine.update();
                        });
                    </script>
                </div>
            </div>
            <div class="col-md-2"></div>
        </div>
    </div>
    
</body>
</html>